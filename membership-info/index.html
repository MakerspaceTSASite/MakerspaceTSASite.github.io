<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Membership Information</title>
    <link rel="stylesheet" href="../css/main.css">
    <link id="themeLink" rel="stylesheet" href="../css/lightmode.css">
    <script src="../lib/JQuery.js" integrity="sha256-MnSZeU4f1L1WsaWOLCP4OAPr2/7ewy0colwYY7T4c9o=" crossorigin="anonymous"></script>
    <script src="../lib/moment.js"></script>
    <script src="../js/main.js"></script>
  </head>
  <body oncontextmenu="return false;">
    <div id="topbar" oncontextmenu="return false;">
      <menu type="toolbar">
        <button onclick="window.location.href=`${homeUrl}`">Home</button>
        <button onclick="window.location.href=`${calendarUrl}`">Event Dates and Calendar</button>
        <button onclick="window.location.href=`${aboutUrl}`">About</button>
        <button onclick="window.location.href=`${equipmentUrl}`">Equipment and Services</button>
        <label class="switch">
          <input id="themeToggle" type="checkbox" onchange="toggleTheme();">
          <span class="slider round"></span>
        </label>
        <script>
          function toggleTheme() {
           var themeToggle = $(".themeToggle");
           var newTheme;
          
           if (document.getElementById("themeToggle").checked == true) {
              newTheme = 'dark';
              themeToggle.textContent = 'Light Mode';
              document.getElementById('themeLink').href = '../css/darkmode.css';
           } else {
              newTheme = 'light';
              themeToggle.css({'content':"Dark"});
              document.getElementById('themeLink').href = '../css/lightmode.css';
           }
           localStorage.setItem('theme', newTheme);
           localStorage.setItem('checked', document.getElementById("themeToggle").checked);
          }
          document.addEventListener('DOMContentLoaded', function() {
           document.getElementById("themeToggle").checked = localStorage.getItem('checked');
           var savedTheme = localStorage.getItem('theme');
           if (savedTheme) {
              var themeToggle = document.getElementById('themeToggle');
              var themeLink = document.getElementById('themeLink');
              if (savedTheme === 'dark') {
                themeToggle.textContent = 'Light Mode';
                themeLink.href = '../css/darkmode.css';
              } else {
                themeToggle.textContent = 'Dark Mode';
                themeLink.href = '../css/lightmode.css';
              }
              themeToggle.setAttribute('data-theme', savedTheme);
           }
          });
                </script>
      </menu>
    </div>
    <main>
      <h1>Membership Information</h1>
      <p>A membership card can be purchased in-person during business hours. Being a member allows to you reserve any amount of equipment concurrently, as opposed to the normal reservation limit of 5 pieces of equipment. Being a member also gives you priority over non-members, regarding reserving equipment.</p>
    </main>
    <script>
      var currentUrl = "";
      var calendarUrl = "";
      var aboutUrl = "";
      var equipmentUrl = "";
      var homeUrl = "";
      setInterval(function() {
        currentUrl = window.location.href;
        calendarUrl = currentUrl.replace("/membership-info","/calendar");
        aboutUrl = currentUrl.replace("/membership-info","/about");
        equipmentUrl = currentUrl.replace("/membership-info","/equipment-and-services");
        homeUrl = currentUrl.replace("/membership-info","");
      }, 100);

      $("#topbar").css({"width":window.innerWidth});
      $(document.body).css({"width":window.innerWidth});
      addEventListener("resize", (event) => {
        $("#topbar").css({"width":window.innerWidth});
        $(document.body).css({"width":window.innerWidth});
      });
    </script>
  </body>
</html>